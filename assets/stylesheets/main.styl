@import nib

// ------------ GLOBAL LAYOUT ------------ //

global-reset()

*
  box-sizing border-box

realBoy()
  display block
  position absolute
  content ''


// ------------ GLOBAL TYPOGRAPHY ------------ //

*
  font-family "freight-sans-pro", sans-serif

html
  font-size 16px
  text-align center

h1, h2, h3, h4
  font-family "freight-big-pro", serif
  font-weight bold

h1
  font-size 2.5rem
  line-height 2.5rem

h2
  font-size 1.8rem
  font-weight 500
  line-height 2.2rem
  margin-bottom 0.5rem

h3
  font-size: 1.4rem
  line-height: 1.6rem

p
  font-size 1rem
  line-height: 1.4rem

a
  color #ed5029
  text-decoration none
  &:hover
    color #f19929


// ------------ HOMEPAGE ------------ //

section, header, footer
  padding 1rem 2rem
  max-width 63rem
  margin-left auto
  margin-right auto

// Header

header
  width 100%
  padding-top 0
  text-align center

  h1
    margin-top 1rem
  p
    margin-top: 1rem
    font-size 1.2rem
    line-height 1.8rem

  img
    display block
    width 70%
    max-width 15rem
    margin 0 auto


// Sections

section
  &:before
    content 'i'
    text-align center
    border 1px solid #999
    color #999
    background white
    outline: 1rem solid white
    margin 2rem auto -2rem
    width 2rem
    height 2rem
    display block
    border-radius 2rem
    font-family "freight-big-pro", serif
    font-style italic
    font-size 1.8rem

  h2
    margin-top 2.5rem

.currentStuff
  li
    width 90%
    margin 1.5rem auto 2rem
    .role
      font-size: 1.2rem
      margin-bottom 0.3rem
      text-transform uppercase
      em
        font-weight bold
    
        
    .org
      background-size: 100% 100%
      max-width 40em
      margin 0 auto
      padding 1rem
      text-align center
      position relative
      .orgInfo
        padding 2rem
        border 2px solid white
        .logo
          -webkit-filter drop-shadow( 0 0 30px rgba(0,0,0,0.3) )
          max-width 8rem

        .description
          color white
          line-height 1.4rem
          margin-top 1rem
          text-shadow 0 0 30px rgba(0,0,0,0.6)

    &.designCode
      .role
        //color darken(#f36235,10%)
      .org
        background-image url('../images/nowbg1.jpg')
        .logo
          width 50%
          margin-bottom .5rem
    &.designHack
      .role
        //color darken(#ee8020,10%)
      .org
        background-image url('../images/nowbg2.jpg')
        .orgInfo
          padding-top 1.2rem
        .logo
          width 60%
    &.amicus
      .role
        //color darken(#5b9933,10%)
      .org
        background-image url('../images/nowbg3.jpg')
        .orgInfo
          padding-top 1.5rem
        .logo
          width 80%
          margin-bottom .5rem


////// Way too much work on this stupid button
.oldButton
  position relative
  background linear-gradient(top, #365baa, #81c8ea) 
  padding 0 0.4rem 0.2rem
  border-radius 100px
  box-shadow #aaa 0 0.3rem 1rem
  border 1px solid #3b62ae
  display inline-block 
  &:hover
    background linear-gradient(top, lighten(#365baa, 10%), lighten(#81c8ea, 10%)) 
  &:after
    realBoy()
    top 0
    left 5%
    border-radius 100px
    width 90%
    padding 0.5rem 0
    background linear-gradient(top, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0))
  &:active
    box-shadow #aaa 0 0.1rem 1rem
    top 0.1em
    &:after
      padding 0.1rem 0
      width 88%
      left 6%
      top 0
      border-radius 10px 10px 0 0 / 5px 5px 0 0
      opacity 0.7
    &:before
      realBoy()
      background darken(#254ca2,50%)
      margin-top 0.5rem
      width 80%
      left 10%
      padding 0.3rem 0
      box-shadow 0px 0px 15px black, 0 0 30px white
      opacity 0.2


// Delight

$offset = -2rem
$duration = 0.6s
$letters = (1..7)

@keyframes bounce
  0%, 100%
    transform translateY(0)
  30%, 65%
    transform translateY($offset)
    font-size 2rem
  90%
    transform translateY($offset * -0.1)


.delight 
  h2
    &:hover
      color #f0582d
      transition none

    transition 0.7s color
    
    span.animate
      font-weight bold
      span
        display inline-block
        position relative

    &.animating
      span.animate span
        animation-duration $duration
        animation-name bounce

    for letter in $letters
      span.animate span:nth-child({letter})
        animation-delay 0.04s * letter

  p {
    opacity 0
    position relative
    z-index -1
    margin-top -2rem
    transition all 0.2s
    &.shown {
      opacity 1
      margin-top 0
    }
  }


// Writing + Work

.work li, .writing li
  width 100%
  text-align center
  padding 1rem
  margin 1rem auto
  background-image url('../images/link2.jpg')
  background-size 100% auto
  background-position: 50% 50%
  position relative
  a
    border 2px solid black
    padding 1rem
    display block
    color black
    height 8rem
    position relative
    transition all 0.2s ease-in-out
    z-index 10
    padding-top 1.4rem
    background: transparent
    color: black
    border: 2px solid black
    &:hover
      background rgba(255,255,255,0.4)
      border 2px solid black
      transition all 0.1s ease-in-out
      border-top 10px solid black
      padding-top 1.1rem
      &:after
        content '...'
        font-size 2rem
        color white
        top -1.35rem
        left -0.1rem
        width 1.5rem
        position absolute
    h3
      margin-bottom 0.5rem
      font-family "freight-sans-pro", sans-serif
      font-weight 600
    
    &.seen // Check if this can even work anymore
      color red
      opacity 0.3
      &:before
        content '\2713  Seen'
        display block
        position absolute
        top 0.5rem
        left 0.5rem
      &:hover
        opacity 1

ul.writing li
  background-image url('../images/link1.jpg')
  h3
    font-weight 400

// Icons TODO

// book
section.writing:before
  content 'w'

// pen
section#work:before
  content 'd'

// phone? mail? twitter logo?
section.contact:before
  content 'c'

// Footer

footer
  padding-top 4rem
  h3
    margin-bottom 0.5rem
    font-weight normal


// ------------ WORK PAGE ------------ //

a[target="_blank"]:before
  content: '(external) ' //TODO replace with icon

body.page
  h1, h2
    font-family freight-big-pro, serif
    text-align left
    width 55rem
    max-width 90%
    margin 0 auto
  h1
    font-weight 900
    font-size 2.5rem
    line-height 2.5rem

  header
    position relative
    padding 0
    margin-bottom 2rem
    img
      position absolute
      left -2rem
    nav
      position relative  
      margin 0 auto 10rem
      padding-left 1rem
      a
        display block
        padding 0.5rem
        padding-left 8rem
        text-align left
        font-size 1.4rem
        &.home
          padding-top 3rem
      p
        display block
        margin 0
    h2
      font-family "freight-sans-pro", sans-serif
      font-weight normal
      font-size 1.4rem
      padding-top -0.5rem
      text-align left
      border 0

  h2, section
    &:before
      display: none

  .content
    text-align center
    > p, section > p
      padding-top 0
      text-align left
      width 55rem
      max-width 90%
      margin 1.5rem auto 0
      font-family "freight-text-pro", sans-serif
      font-size: 1.2rem;
      line-height: 1.6rem;
    h2
      font-size 1.8rem
      text-align left
      font-family "freight-sans-pro", sans-serif
      border-bottom: 3px solid black;
      padding-bottom 0.1rem
      margin 3rem auto 0.8rem
      font-weight bold
      
    img
      max-width 100%
      margin 2rem auto
      display block

    figure
      clearfix()
      max-width 55em
      margin 2rem auto
      display inline-block
      width auto
      img, video
        max-width 100%
        border 2px solid #ddd
        margin 0 auto
      figcaption
        margin-top -3px
        background #ddd
        padding 1rem
        font-size 1rem
        line-height 1.3rem
        text-align center

  footer
    margin 3rem auto
    padding-top 0
    text-align center

  ul.work
    li.project
      &.current
        display none
        background-image url('../images/grey.jpg')
        a:hover
          border 2px solid black
          background transparent
          padding-top 1.4rem
          &:after
            display none


@media all and (min-width: 45rem)
  body.page header h1
    font-size 3rem
    line-height 3rem
  .content h2
    font-size 2rem
    margin 2rem auto 1rem
  .current
    display block !important



@media all and (min-width: 65rem)
  body.page header
    h1
      font-size 3.5rem
      line-height 3.5rem
    h2
      padding-top 0

  body.page .content, .page header
      padding 0



// ------------ MOBILE ------------ //

.tablet, .full
  display none
.mobile
  display inline

// ------------ TABLET ------------ //

@media all and (min-width: 45rem)
  .mobile
    display none
  .tablet
    display inline
  figure.tablet
    display block

  ul.work
    clearfix()
    li
      width 48%
      float left
      margin-right 4%
      &:nth-child(2n)
        margin-right 0

  ul.writing li a
    height 6.6rem


// ------------ SMALL DESKTOP ------------ //

@media all and (min-width: 65rem)
  .tablet
    display none
  .full
    display inline
  figure.full, iframe.full, p.full
    display block
  html
    text-align left

  section
    padding-top 4rem
    &:before
      position absolute
      margin-left -3.5rem
      margin-top 2.5rem

  header p
    margin-top 0.5rem

  ul.writing, ul.currentStuff
    clearfix()

  .writing > p
    text-align right

  ul.writing li, .currentStuff li
    .mobile
      display inline

  ul.work li, ul.writing li, ul.currentStuff li
    float left
    width 31% !important
    margin-right 3.5%
    &:nth-child(2n)
      margin-right 3.5%
    &:nth-child(3n)
      margin-right 0

  ul.work li a, ul.writing li a
    height 8rem !important
  
  .currentStuff
    li
      margin-top 0.5rem

      &.designCode .orgInfo .logo
        margin-top 1.5rem
        width 6rem

      &.designHack .orgInfo .logo
        margin-top 1.4rem
        width 7rem

      &.amicus .orgInfo .logo
        margin-top 3.5rem
        width 8rem
        max-width 8rem

    .org
      perspective 1000
      position relative
      .orgInfo
        transform-style preserve-3d
        backface-visibility hidden
        padding 0 !important
        height 10rem
        transition 1s cubic-bezier(0.680, -0.550, 0.265, 1.550)
        
        div.img
          background red
          position relative
          height 100%
          width 100%
          position absolute
          background url('images/nowbg1.jpg')
          top 0
          right 0
        div.description
          background white
          color black
          transform: rotateY( 180deg )
          text-shadow none
          position absolute
          top 0
          left 0
          height 100%
          backface-visibility hidden
          width 100%
          margin-top 0
          padding 0
          span
            margin-top 2.7rem
            display block
      &:hover .orgInfo
        transform: rotateY( 180deg )
        transition 0.2s ease



// ------------ LARGE DESKTOP ------------ //

@media all and (min-width: 80rem)

  h1
    font-size 2.8rem
  .homePage
    section, header, footer
      max-width 73rem
      padding-left 10rem
      position relative

    header
      text-align left

      img
        position absolute
        margin-left -16rem
        margin-top -1rem
      h1
        padding-top 2.5rem
      p
        padding-left 1rem

    section:after, footer:after
      realBoy()
      border-left: 1px dashed #999
      z-index -1
      height 100%
      top 0
      left 7.5rem

    header:after
      realBoy()
      border-right: 1px dashed #999
      border-top: 1px dashed #999
      z-index -1
      height 3rem
      width 3rem
      bottom 0
      left 4.5rem
      border-radius 0 2rem 0 0



  